
## 簡易干渉チェック機能のご使用方法  
干渉チェック機能をお使いいただくには、以下の手順をご理解の上、ロボットの操作をおねがいます。

### 1.ツール座標の設定  
干渉チェック機能はツール先端と障害物の干渉をチェックします。このためツール先端を指すツール座標を設定する必要があります。ただしこれは従来のピッキングで必要とされるような正確なものは不要です。ツール座標を設定するためには以下の方法があります。

- 数値入力  
フランジ中心からほぼ垂直に設置されたツールでは、単にツール長(ツール変換のZ座標)を入力<sup>(1)</sup>します。またフランジ中心から外れている場合も各方向に応じた寸法をツール変換のXY座標として入力<sup>(1)</sup>します。

- ツール補正
ロボットに備わるツール補正機能を使います。

!(1)入力方法は各ロボットのマニュアルを参照ください。


### 2.ツールベースの教示  
マスター教示時は、**必ず**1.で設定したツールを選択します。ツールが異なると衝突の危険があります。またベース座標は必ずベース0を選択します。

### 3.ロボットプログラム  
干渉チェック機能はビジョンシステムへのSOLVE命令に併せてマスター教示点を送ることで、ビジョンシステム側でチェック機能が動作します。  
干渉チェック機能を使わない場合は、SOLVE命令には座標を指定する必要はありません。  
~~~  
SOLVE(P1,RESULT)
~~~  
マスターに一致するワークが発見出来た場合は、RESULTに真が返されます。このとき座標変数P1にはマスターに一致するワーク座標が返されますので、ロボットプログラム側にてこの座標値にて、以後の経路の実行前にベース変換します。    
~~~
?
?

~~~  
マスターに一致するワークが発見できなかった場合は、RESULTに偽が返されます。  
これと同様に干渉チェック機能を使用する場合は、SOLVEに代わりSOLVE_CHECK命令を使います。
~~~  
dim PP[10]
  :
SOLVE_CHECK(P1,RESULT,PP,5)
~~~  
PPはにて把持経路の教示点を与えます。また第3パラメータにてPPのうち干渉チェックを行う範囲を与えます。SOLVE_CHECK命令の結果は、SOLVE同様RESULTにて判定できますが、マスターに一致するワークが発見された場合も、経路中に障害物が存在した場合は偽を返します。

### 4.使い方のヒント
1. ワーク干渉  
ピッキングに使う場合は対象ワークやその近傍のワークを障害物と認識することがあります。これを避けるには、SOLVE_CHECK命令のチェック範囲を把持点のひとつ手前の点までを指定することで対応できます。

2. 搬送物体との干渉  
ハンドにて把持中のワークとの干渉チェックには・・・
